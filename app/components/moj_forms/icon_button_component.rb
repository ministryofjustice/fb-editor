module MojForms
  class IconButtonComponent < GovukComponent::Base
    attr_reader :label, :icon, :html_attributes

    def initialize(label:, icon:, classes: [], html_attributes: {})
      @label = label
      @icon = icon
      @html_attributes = html_attributes

      super(classes:, html_attributes:)
    end

    def call
      tag.button(**html_attributes) do
        button_svg.html_safe
      end
    end

    def button_label
      label || raise(ArgumentError, 'no label provided')
    end

    def button_svg
      case icon
      when 'remove'
        "<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"15px\" height=\"17px\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">
            <g transform=\"matrix(1 0 0 1 -8 -7 )\">
              <path d=\"M 5.3586647727272725 14.067057291666668  C 5.4225852272727275 14.000651041666668  5.454545454545455 13.91579861111111  5.454545454545455 13.8125  L 5.454545454545455 6.020833333333333  C 5.454545454545455 5.917534722222222  5.4225852272727275 5.832682291666667  5.3586647727272725 5.766276041666667  C 5.294744318181818 5.699869791666667  5.2130681818181825 5.666666666666667  5.113636363636363 5.666666666666667  L 4.431818181818182 5.666666666666667  C 4.332386363636364 5.666666666666667  4.250710227272728 5.699869791666667  4.1867897727272725 5.766276041666667  C 4.122869318181818 5.832682291666667  4.090909090909091 5.917534722222222  4.090909090909091 6.020833333333333  L 4.090909090909091 13.8125  C 4.090909090909091 13.91579861111111  4.122869318181818 14.000651041666668  4.1867897727272725 14.067057291666668  C 4.250710227272728 14.133463541666668  4.332386363636364 14.166666666666668  4.431818181818182 14.166666666666668  L 5.113636363636363 14.166666666666668  C 5.2130681818181825 14.166666666666668  5.294744318181818 14.133463541666668  5.3586647727272725 14.067057291666668  Z M 8.0859375 14.067057291666668  C 8.149857954545455 14.000651041666668  8.181818181818182 13.91579861111111  8.181818181818182 13.8125  L 8.181818181818182 6.020833333333333  C 8.181818181818182 5.917534722222222  8.149857954545455 5.832682291666667  8.0859375 5.766276041666667  C 8.022017045454545 5.699869791666667  7.94034090909091 5.666666666666667  7.840909090909091 5.666666666666667  L 7.159090909090909 5.666666666666667  C 7.059659090909092 5.666666666666667  6.977982954545455 5.699869791666667  6.9140625 5.766276041666667  C 6.850142045454545 5.832682291666667  6.818181818181818 5.917534722222222  6.818181818181818 6.020833333333333  L 6.818181818181818 13.8125  C 6.818181818181818 13.91579861111111  6.850142045454545 14.000651041666668  6.9140625 14.067057291666668  C 6.977982954545455 14.133463541666668  7.059659090909092 14.166666666666668  7.159090909090909 14.166666666666668  L 7.840909090909091 14.166666666666668  C 7.94034090909091 14.166666666666668  8.022017045454545 14.133463541666668  8.0859375 14.067057291666668  Z M 10.813210227272727 14.067057291666668  C 10.877130681818182 14.000651041666668  10.90909090909091 13.91579861111111  10.90909090909091 13.8125  L 10.90909090909091 6.020833333333333  C 10.90909090909091 5.917534722222222  10.877130681818182 5.832682291666667  10.813210227272727 5.766276041666667  C 10.749289772727273 5.699869791666667  10.667613636363637 5.666666666666667  10.568181818181818 5.666666666666667  L 9.886363636363637 5.666666666666667  C 9.786931818181818 5.666666666666667  9.705255681818182 5.699869791666667  9.641335227272727 5.766276041666667  C 9.577414772727273 5.832682291666667  9.545454545454545 5.917534722222222  9.545454545454545 6.020833333333333  L 9.545454545454545 13.8125  C 9.545454545454545 13.91579861111111  9.577414772727273 14.000651041666668  9.641335227272727 14.067057291666668  C 9.705255681818182 14.133463541666668  9.786931818181818 14.166666666666668  9.886363636363637 14.166666666666668  L 10.568181818181818 14.166666666666668  C 10.667613636363637 14.166666666666668  10.749289772727273 14.133463541666668  10.813210227272727 14.067057291666668  Z M 5.635653409090909 1.5384114583333326  L 5.113636363636363 2.8333333333333326  L 9.886363636363637 2.8333333333333326  L 9.375 1.5384114583333326  C 9.325284090909093 1.4720052083333326  9.264914772727273 1.4314236111111103  9.193892045454545 1.4166666666666674  L 5.816761363636363 1.4166666666666674  C 5.745738636363637 1.4314236111111103  5.685369318181819 1.4720052083333326  5.635653409090909 1.5384114583333326  Z M 14.904119318181818 2.9329427083333326  C 14.968039772727273 2.9993489583333326  15 3.084201388888888  15 3.1875  L 15 3.8958333333333326  C 15 3.999131944444443  14.968039772727273 4.083984375  14.904119318181818 4.150390625  C 14.840198863636363 4.216796875  14.758522727272728 4.25  14.65909090909091 4.25  L 13.636363636363637 4.25  L 13.636363636363637 14.7421875  C 13.636363636363637 15.354600694444443  13.469460227272728 15.88400607638889  13.13565340909091 16.330403645833332  C 12.801846590909092 16.77680121527778  12.400568181818182 17  11.931818181818182 17  L 3.0681818181818183 17  C 2.5994318181818183 17  2.1981534090909096 16.7841796875  1.8643465909090908 16.3525390625  C 1.530539772727273 15.9208984375  1.3636363636363638 15.398871527777777  1.3636363636363638 14.786458333333332  L 1.3636363636363638 4.25  L 0.34090909090909094 4.25  C 0.2414772727272727 4.25  0.15980113636363638 4.216796875  0.09588068181818182 4.150390625  C 0.03196022727272727 4.083984375  0 3.999131944444443  0 3.8958333333333326  L 0 3.1875  C 0 3.084201388888888  0.03196022727272727 2.9993489583333326  0.09588068181818182 2.9329427083333326  C 0.15980113636363638 2.8665364583333326  0.2414772727272727 2.8333333333333326  0.34090909090909094 2.8333333333333326  L 3.6328125 2.8333333333333326  L 4.378551136363637 0.9850260416666673  C 4.485085227272728 0.712022569444443  4.676846590909092 0.479600694444443  4.9538352272727275 0.2877604166666673  C 5.230823863636364 0.09592013888888784  5.511363636363637 0  5.795454545454545 0  L 9.204545454545455 0  C 9.488636363636365 0  9.769176136363637 0.09592013888888784  10.046164772727273 0.2877604166666673  C 10.32315340909091 0.479600694444443  10.514914772727273 0.712022569444443  10.621448863636363 0.9850260416666673  L 11.3671875 2.8333333333333326  L 14.65909090909091 2.8333333333333326  C 14.758522727272728 2.8333333333333326  14.840198863636363 2.8665364583333326  14.904119318181818 2.9329427083333326  Z \"
                    fill-rule=\"nonzero\"
                    fill=\"currentColor\"
                    stroke=\"none\"
                    transform=\"matrix(1 0 0 1 8 7 )\" />
            </g>
          </svg>"
      end
    end

    def default_attributes
      {
        type: 'button',
        class: ['icon-button', "icon-button--#{icon}"],
        aria: {
          label:
        }
      }
    end
  end
end
