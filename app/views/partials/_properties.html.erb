<script nonce=<%= request.content_security_policy_nonce %>>
  var SENTRY_DSN = "<%= ENV['SENTRY_DSN'] %>";
  var PLATFORM_ENV =  "<%= ENV['PLATFORM_ENV'] %>";
  var app = {
    api: {
      // FE terminology    | BE terminology
      // --------------------------------------------------------
      // Branching Node    | Branch
      // Branch            | Conditional
      // BranchCondition   | Expression
      // BranchQuestion    | (Expression Answers) Component
      // BranchAnswer      | (Expression Answers) Operator+Field
      new_conditional: "/api/services/<%= params[:id] %>/branches/<%= @branch && @branch.flow_uuid %>/conditionals/#{branch_index}",
      get_expression: "/api/services/<%= params[:id] %>/components/#{component_id}/conditionals/#{branch_index}/expressions/#{condition_index}",
    },
    // Feaures switches here (as per example below).
    feature_flags: {
    },
    page: {
      id: "<%= params[:page_uuid] %>",
      action: "<%= action_name %>",
      controller:  "<%= controller_name %>",
      data_url: "<%= yield :page_data_url %>"
    },
    service: {
      id: "<%= params[:id] %>"
    },
    text: {
      aria: {
        hint: "<%= t('aria.hint') %>",
        section_heading: "<%= t('aria.section_heading') %>",
        disabled_save_description: "<%= t('aria.disabled_save_description') %>",
        optional_content_label: "<%= t('aria.optional_content_label') %>",
        page_title: "<%= t('aria.page_title') %>",
        page_lede: "<%= t('aria.page_lede') %>",
        question: {
          title: "<%=t('aria.question.title')%>",
          legend: "<%=t('aria.question.legend')%>",
          hint: "<%=t('aria.question.hint')%>",
          answers: "<%= t('aria.question.answers') %>",
          answer: "<%=t('aria.question.answer')%>",
          items: {
            label: "<%=t('aria.question.items.label')%>", 
            hint:"<%=t('aria.question.items.hint')%>",
            answer:"<%=t('aria.question.items.answer')%>", 
            menu_button:"<%=t('aria.question.items.menu_button')%>", 
          },
        },
      },
      branches: {
        branch_edit: "<%= t('branches.branch_edit') %>",
        branch_add: "<%= t('branches.branch_add') %>",
        condition_add: "<%= t('branches.condition_add') %>",
        condition_remove: "<%= t('branches.condition_remove') %>",
        label_question_and: "<%= t('branches.expression.and') %>",
        label_question_if: "<%= t('branches.expression.if') %>"
      },
      components: {
        content:  {
          properties: "<%= t('content.menu.activator') %>",
          move_up: "<%= t('components.actions.move_content_up') %>",
          move_down: "<%= t('components.actions.move_content_down') %>",
        },
        component: {
          properties: "<%= t('question.menu.activator') %>",
          move_up: "<%= t('components.actions.move_component_up') %>",
          move_down: "<%= t('components.actions.move_component_down') %>",
        },
        types: {
          text: "<%= t('components.list.text')%>",
          textarea: "<%= t('components.list.textarea')%>",
          email: "<%= t('components.list.email')%>",
          number: "<%= t('components.list.number')%>",
          date: "<%= t('components.list.date')%>",
          radios: "<%= t('components.list.radios')%>",
          checkboxes: "<%= t('components.list.checkboxes')%>",
          upload: "<%= t('components.list.upload')%>",
          multiupload: "<%= t('components.list.upload')%>",
          autocomplete: "<%= t('components.list.autocomplete')%>",
          address: "<%= t('components.list.address')%>",
        }
      },
      content_visibility: {
        label_question_and: "<%= t('branches.expression.and') %>",
        label_question_if: "<%= t('branches.expression.if') %>",
        label_show_if: "<%= t('conditional_content.show_if_button_label')%>",
        label_hidden: "<%= t('conditional_content.hidden_button_label')%>"
      },
      errors: {
        branches: {
          unsupported_question: "<%= t('activemodel.errors.messages.unsupported') %>"
        }
      },
      option_add: "<%= t('actions.option_add') %>",
      option_remove: "<%= t('actions.option_remove') %>",
      question_optional_flag: "<%= t('question.optional_flag') %>",
      dialogs: {
        autocomplete: {
          button: "<%= t('dialogs.autocomplete.button') %>",
          button_disabled: "<%= t('dialogs.autocomplete.button_disabled') %>",
          success: "<%= t('dialogs.autocomplete.success') %>"
        },
        undo_redo_error: {
          heading: "<%= t('dialogs.undo_redo_error.heading') %>",
          content: "<%= t('dialogs.undo_redo_error.content') %>",
          undo: {
            content: "<%= t('dialogs.undo_redo_error.undo.content') %>"
          },
          redo: {
            content: "<%= t('dialogs.undo_redo_error.redo.content') %>"
          }

        },
        button_change_destination: "<%= t('dialogs.destination.button_change') %>",
        button_move: "<%= t('dialogs.move.button') %>",
        button_cancel: "<%= t('dialogs.button_cancel') %>",
        button_delete: "<%= t('dialogs.button_delete') %>",
        button_delete_condition: "<%= t('dialogs.button_delete_condition') %>",
        button_delete_branch: "<%= t('dialogs.button_delete_branch') %>",
        button_delete_option: "<%= t('dialogs.button_delete_option') %>",
        button_delete_component: "<%= t('dialogs.button_delete_component') %>",
        button_delete_page: "<%= t('dialogs.button_delete_page') %>",
        button_ok: "<%= t('dialogs.button_ok') %>",
        button_publish: "<%= t('publish.dialog.alert_button') %>",
        button_understood: "<%= t('dialogs.button_understood') -%>",
        heading: "<%= t('dialogs.heading') %>",
        heading_delete: '<%= t('dialogs.heading_delete').html_safe %>',
        heading_delete_condition: "<%= t('dialogs.heading_delete_condtition').html_safe %>",
        heading_delete_branch: "<%= t('dialogs.heading_delete_branch').html_safe %>",
        heading_delete_option: '<%= t('dialogs.heading_delete_option').html_safe %>',
        heading_can_not_delete_option: "<%= t('question_items.delete_modal.can_not_delete_heading').html_safe -%>",
        heading_publish: "<%= t('publish.dialog.alert_heading') %>",
        message: "<%= t('dialogs.message') %>",
        message_delete: "<%= t('dialogs.message_delete') %>",
        message_delete_branch: "<%= t('dialogs.message_delete_branch') %>",
        message_publish: "<%= t('publish.dialog.alert_text').html_safe %>",
        message_delete_radio_min: "<%= t('question_items.min_items_modal.can_not_delete_radios_message').html_safe -%>",
        message_delete_checkbox_min: "<%= t('question_items.min_items_modal.can_not_delete_checkboxes_message').html_safe -%>"
      },
      actions: {
        edit: "<%= t('actions.edit') %>",
        save: "<%= t('actions.save') %>",
        saving: "<%= t('actions.saving') %>",
        saved: "<%= t('actions.saved') %>"
      }
    }
  }
</script>
